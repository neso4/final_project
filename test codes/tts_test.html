<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <form>
        <h2>읽을 문장을 입력하세요.</h2>
        <input type="text" name="TTSInput" id="textInput">
        <input type="submit" name="btn" value="재생">
    </form>
    <script>
        // 자바스크립트 자체 음성 합성 모듈을 불러옴
        var synth = window.speechSynthesis;

        // 읽어올 텍스트를 저장할 변수들
        var inputForm = document.querySelector("form");
        var textInput = document.getElementById("textInput");
        // 음성 언어: 한국어
        var lang = 'ko-KR';
        // 속도: 1
        var rateValue = 0.8;
        // 목소리 높낮이: 1
        var pitchValue = 1;
        // 글자를 하나씩 읽어와 합성할 변수
        var voices = [];

        // 재생 버튼을 누를 때 문장이 재생됨
        inputForm.onsubmit = function(event) {
            // submit을 누를때 페이지가 새로고침 되는 것을 방지함
            event.preventDefault();

            var readThis = new SpeechSynthesisUtterance(textInput.value);
            
            // 글자마다 언어 설정하기
            for(var i = 0; i < voices.length; i++) {
                readThis.voice = lang;
            }
            readThis.pitch = pitchValue;
            readThis.rate = rateValue;

            synth.speak(readThis);
        }

    </script>
</body>
</html>